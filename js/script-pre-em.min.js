function pre_emfot_select(){if($("#pre-emfot").length){function e(){var e,t,r=$("#pre-emfot [name=pre-emfot_optionHeight]").val();$("#sep-emdesk [name=sep-emdesk_optionDepth]").val(),$("#sep-emdesk [name=sep-emdesk_optionColor]:checked").val(),$("#sep-emdesk [name=sep-emdesk_optionColor]:checked").data("colorname");"8"==r?e="08":"9"==r?e="09":"10"==r?e="10":"11"==r?e="11":"12"==r?e="12":"13"==r?e="13":"14"==r?e="14":"15"==r?e="15":"16"==r?e="16":"17"==r?e="17":"18"==r?e="18":"19"==r?e="19":"20"==r?e="20":"21"==r?e="21":"22"==r?e="22":"23"==r?e="23":"24"==r?e="24":"25"==r?e="25":"26"==r?e="26":"27"==r?e="27":"28"==r?e="28":"29"==r?e="29":"30"==r&&(e="30");var o="PRE-EM"+e+"FOT",n=get_selection_price(o);$("#readyMadeMessage").text(""),$("#pre_selectedProductButton").css("display","none"),$("#pre-em_selectedProductButton").css("display","block"),$(".fs-c-productOption.unusable").css("display","block"),$("#pre-em_selectedProductImage").html('<img src="/assets/img/product/sizeOrder/pre-em/PRE-EM'+e+'FOT.jpg">'),$("#pre-em_selectedProductWidthImage").html('<img src="/assets/img/product/sizeOrder/pre-em/pre-emfot_height'+e+'.png">'),$("#pre-em_selectedHeight").html(r+"cm"),$("#pre-em_selectedProduct").html(o),$("#productPriceBox .fs-c-price__value").text(formatNumberWithComma(Number(n.product_selection_selling_price))),$("#productPriceBox .fs-c-productPointDisplay__quantity").text(Math.round(Number(n.product_selection_selling_price)/100)),$(".fs-c-productPostage .fs-c-price__value").text(formatNumberWithComma(Number(n.postage)));var i="PRE-EMFOT";t=o;var p='<form action="/p/cart/add" method="post"><input type="hidden" name="products['+i+'].productNo" value="'+i+'"><input type="hidden" name="products['+i+'].productOptionsWithPrice[1].id" value="1"><select name="products['+i+'].productOptionsWithPrice[1].value"><option value="'+t+'"></option></select><input name="products['+i+'].quantity" type="text" value="1" size="1"><button type="submit">カートに入れる</button></form>';$("#pre-em_selectedProductButton").html(p)}e(),$("#pre-emfot select").change(function(){e()})}}function get_selection_price(e){var t="https://h15yyu8zof.execute-api.ap-northeast-1.amazonaws.com/prod/get_size_order_made_prices",r={selection_sku_no:e},o=$.ajax({type:"post",url:t,async:!1,data:JSON.stringify(r),contentType:"application/json",dataType:"json",scriptCharset:"utf-8",success:function(e){},error:function(e){}}).responseText,n=JSON.parse(o);return n}function formatNumberWithComma(e){return Number(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}$(function(){pre_emfot_select()}),$(window).on("load",function(){var e=function(e){for(var t=function(e){for(var t,r,o,n,i=e.childNodes,p=i.length,c=[],s=0;s<p;s++)t=i[s],1===t.nodeType&&(r=t.children[0],o=r.getAttribute("data-size").split("x"),n={src:r.getAttribute("href"),w:parseInt(o[0],10),h:parseInt(o[1],10)},t.children.length>1&&(n.title=t.children[1].innerHTML),r.children.length>0&&(n.msrc=r.children[0].getAttribute("src")),n.el=t,c.push(n));return c},r=function e(t,r){return t&&(r(t)?t:e(t.parentNode,r))},o=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,o=r(t,function(e){return e.tagName&&"P"===e.tagName.toUpperCase()});if(o){for(var n,p=o.parentNode,c=o.parentNode.childNodes,s=c.length,a=0,d=0;d<s;d++)if(1===c[d].nodeType){if(c[d]===o){n=a;break}a++}return n>=0&&i(n,p),!1}},n=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var r=e.split("&"),o=0;o<r.length;o++)if(r[o]){var n=r[o].split("=");n.length<2||(t[n[0]]=n[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t.hasOwnProperty("pid")?(t.pid=parseInt(t.pid,10),t):t},i=function(e,r,o){var n,i,p,c=document.querySelectorAll(".pswp")[0];p=t(r),i={index:e,galleryUID:r.getAttribute("data-pswp-uid")},o&&(i.showAnimationDuration=0),n=new PhotoSwipe(c,PhotoSwipeUI_Default,p,i),n.init()},p=document.querySelectorAll(e),c=0,s=p.length;c<s;c++)p[c].setAttribute("data-pswp-uid",c+1),p[c].onclick=o;var a=n();a.pid>0&&a.gid>0&&i(a.pid-1,p[a.gid-1],!0)};e("#pre-em_selectedProductImageText")});