<<<<<<< HEAD
var noTimeSpecifiedZipCodes_result=void 0,yhcTimeSpecifiedZipCodes_result=void 0,checkRemoteIslandZipCodes_result=void 0;function optionNameChange(){if($("#fs_Checkout,#fs_CheckoutWithAmazon").length&&!$(".optionNameChanged").length){var productUrl="",productUrl_ary="",modelNumber="",optionHasProducts=["por-1830d-na","por-1830d-wh","por-1830d-dk","por-5530du-na","por-5530du-wh","por-5530du-dk","hnb-4540d","adl-4013dh-na","adl-4013dh-wh","adl-4013dh-dk"];$(".fs-c-listedProductName__name").each((function(){productUrl=$(this).attr("href"),productUrl_ary=productUrl.split("/"),modelNumber=productUrl_ary[productUrl_ary.length-1];var optionValue="";-1!=optionHasProducts.indexOf(modelNumber)&&(modelNumber.match(/por-5530du|hnb-4540d|por-1830d/)?(optionValue=`（扉の開き方：${optionValue=$(this).next(".fs-c-listedProductName__selection").find(".fs-c-listedProductName__selection__choice").text()})`,$(this).next(".fs-c-listedProductName__selection").find(".fs-c-listedProductName__selection__choice").text(optionValue)):modelNumber.match(/adl-4013dh/)&&(optionValue=`（組立の向き：${optionValue=$(this).next(".fs-c-listedProductName__selection").find(".fs-c-listedProductName__selection__choice").text()})`,$(this).next(".fs-c-listedProductName__selection").find(".fs-c-listedProductName__selection__choice").text(optionValue)),$(this).addClass("optionNameChanged"))}))}}function checkZipCodes(checkType,zipCode){var url="https://chf394ul5c.execute-api.ap-northeast-1.amazonaws.com/prod/"+checkType,params={zip_code:zipCode},response=$.ajax({type:"post",url:url,async:!1,data:JSON.stringify(params),contentType:"application/json",dataType:"json",scriptCharset:"utf-8",success:function(response){},error:function(response){}}).responseText;return response=JSON.parse(response)}function couponUseCheck(){$("#fs_Checkout,#fs_CheckoutWithAmazon").length&&($(".couponUseCheck").length||$("#fs_button_placeOrder").before('<p class="couponUseCheck text-center mt-24 mb-24"><a href="#fs-couponInfo-container" class="text-link-color">クーポンの付け忘れはございませんか？</a></p>'))}function addDeliveryMethodTitle(optionResult){$("#fs_Checkout,#fs_CheckoutWithAmazon").length&&0!=optionResult&&($(".addDeliveryDateTimeTitle").length||$(".fs-c-checkout-delivery__method__deliveryDateTime").before('<h4 class="fs-c-checkout-delivery__method__title addDeliveryDateTimeTitle mt-48">お届け希望日時</h4>'))}function sizeOrderDisplayThumb(){$(".fs-c-cartTable__dataCell").each((function(){$(this).find(".fs-c-listedProductName__name").text().indexOf("サイズオーダー")>=0?$(this).find(".fs-c-cartTable__product").addClass("sizeOrder"):$(this).find(".fs-c-cartTable__product").addClass("readyMade")}));var orderDetails="",orderType="",orderHeight="",orderWidth="",orderDepth="",orderColor="";$(".sizeOrder").length&&$(".sizeOrder").find(".fs-c-productImage__image").attr("src").indexOf("xs.jpg")>=0&&$(".sizeOrder").each((function(){orderDetails=$(this).find(".fs-c-listedOptionPrice__option__value").html();var href=$(this).find(".fs-c-listedProductName__name").attr("href");if(href.indexOf("tnl-em")>=0){switch(orderDetails.indexOf("本体")>=0?(orderType="TNL-EM",(orderHeight=orderDetails.replace(/.*高さ([0-9]+)cm.*/g,"$1"))<100&&(orderType="TNL-EM0")):orderDetails.indexOf("上置き")>=0?(orderType="TNL-EMU",orderHeight=""):orderDetails.indexOf("追加移動棚")>=0&&(orderType="TNL-EMTS"),(orderWidth=orderDetails.replace(/.*横幅([0-9]+)cm.*/g,"$1"))>=15&&orderWidth<=34?orderWidth="015_034":orderWidth>=35&&orderWidth<=44?orderWidth="035_044":orderWidth>=45&&orderWidth<=60?orderWidth="045_060":orderWidth>=61&&orderWidth<=70?orderWidth="061_070":orderWidth>=71&&orderWidth<=80?orderWidth="071_080":orderWidth>=81&&orderWidth<=90&&(orderWidth="081_090"),19==(orderDepth=orderDetails.replace(/.*奥行([0-9]+)cm.*/g,"$1"))?orderDepth="A":29==orderDepth?orderDepth="M":44==orderDepth&&(orderDepth="F"),orderColor=$(this).find(".fs-c-listedOptionPrice__option:nth-child(3) .fs-c-listedOptionPrice__option__value").text()){case"ブラックウォールナット":orderColor="KW";break;case"ダークオーク":orderColor="DK";break;case"ブラウンウォールナット":orderColor="BW";break;case"ブラウンオーク":orderColor="BO";break;case"ナチュラルチーク":orderColor="NT";break;case"ナチュラルオーク3":orderColor="NC";break;case"ナチュラルオーク1":orderColor="NA";break;case"ナチュラルビーチ":orderColor="NB";break;case"ホワイトオーク":orderColor="WH";break;case"ホワイト単色":orderColor="WT"}if("TNL-EMTS"==orderType)var thumbnail=orderType+orderWidth+orderDepth+"-"+orderColor+"_thum.jpg";else var thumbnail=orderType+orderHeight+orderWidth+orderDepth+"-"+orderColor+"_thum.jpg";$(this).find("img").attr("src","/assets/img/product/sizeOrder/tnl-em/thum/"+thumbnail)}else if(href.indexOf("sep-emdesk")>=0){switch(orderWidth=orderDetails.replace(/.*横幅([0-9]+)cm.*/g,"$1"),orderDetails.indexOf("深型")?orderDepth="f":orderDetails.indexOf("浅型")&&(orderDepth="a"),orderColor=$(this).find(".fs-c-listedOptionPrice__option:nth-child(3) .fs-c-listedOptionPrice__option__value").text()){case"ダークブラウン":orderColor="dk";break;case"ナチュラルブラウン":orderColor="na";break;case"アイボリー":orderColor="iv"}var thumbnail=(orderWidth=orderWidth.slice(0,-1)+"0")+orderDepth+"-"+orderColor+"_thum.jpg";$(this).find("img").attr("src","/assets/img/product/sizeOrder/sep-em/desk/thum/"+thumbnail)}else if(href.indexOf("sep-em")>=0){switch(orderWidth=orderDetails.replace(/.*横([0-9]+)マス.*/g,"$1"),orderHeight=orderDetails.replace(/.*縦([0-9]+)マス.*/g,"$1"),orderColor=$(this).find(".fs-c-listedOptionPrice__option:nth-child(3) .fs-c-listedOptionPrice__option__value").text()){case"ダークブラウン":orderColor="dk";break;case"ナチュラルブラウン":orderColor="na";break;case"アイボリー":orderColor="iv"}var thumbnail=orderWidth+"-"+orderHeight+"-"+orderColor+"_thum.jpg";$(this).find("img").attr("src","/assets/img/product/sizeOrder/sep-em/rack/thum/"+thumbnail)}})),$(".readyMade").length&&$(".readyMade img").each((function(){var readyMadeImage=$(this).attr("src");readyMadeImage=readyMadeImage.replace(/[0-9]{2}-xs.jpg/,"02-xs.jpg"),$(this).attr("src",readyMadeImage)}))}function optionJudgment(){if($("#fs_Checkout,#fs_CheckoutWithAmazon").length){var optionResult=!1,execution=function(){if(0==optionResult&&(optionResult=checkOption()),0!=optionResult){var zipCode=$(".fs-c-checkout-destination__address .fs-c-checkout-destination__address__zipCode").text().replace("-","");if(null!=zipCode&&(zipCode!=zipCodeChangeCheck&&(zipCodeChangeCheck=zipCode,yhcTimeSpecifiedZipCodes_result=checkZipCodes("checkYhcTimeSpecifiedZipCodes",zipCode),checkRemoteIslandZipCodes_result=checkZipCodes("checkRemoteIslandZipCodes",zipCode),$("body").addClass("modal_displayNone"),setTimeout((function(){$("#fs_button_changeDeliveryMethod button.fs-c-button--change--small").trigger("click"),setTimeout((function(){checkRemoteIslandZipCodes_result.result?$("#fs_input_expectedArrival_note").val("【重要】お届け先が離島であるため別途送料がかかります。ご注文内容を確認後にメールにて送料をお知らせします。追加送料にご了承いただきましたら発送いたします。"):$("#fs_input_expectedArrival_note").val(""),setTimeout((function(){$("#__fs_modal_delivery button.fs-c-button--settings").trigger("click")}),1)}),1),checkFlag=1}),300)),1==checkFlag)){var deliveryDate=$(".fs-c-checkout-delivery__method__deliveryDate").next("dd").text(),deliveryTime=$(".fs-c-checkout-delivery__method__deliveryTime").next("dd").text();if(optionResult.result2>=0?1==yhcTimeSpecifiedZipCodes_result.serviceType4_is||1==yhcTimeSpecifiedZipCodes_result.serviceType3_is?"指定なし"!=deliveryDate&&"指定なし"!=deliveryTime||(orderDisabled(),$(".deliveryMethodAlert").length||$("#fs_button_placeOrder").after('<p class="deliveryMethodAlert red text-center mt-16">このお届け先で「組立済+搬入」サービスをご利用の場合は<strong>お届け希望日と時間帯</strong>をご指定ください。</p>')):0==yhcTimeSpecifiedZipCodes_result.serviceType4_is&&0==yhcTimeSpecifiedZipCodes_result.serviceType3_is&&"指定なし"==deliveryDate&&(orderDisabled(),$(".deliveryMethodAlert").length||$("#fs_button_placeOrder").after('<p class="deliveryMethodAlert red text-center mt-16">このお届け先で「組立済+搬入」サービスをご利用の場合は<strong>お届け希望日</strong>をご指定ください。</p>')):(orderEnabled(),$(".deliveryMethodAlert").length&&$(".deliveryMethodAlert").remove()),"指定なし"!=deliveryTime)if(null==optionResult.result2||-1==optionResult.result2){if(null==noTimeSpecifiedZipCodes_result&&1==(noTimeSpecifiedZipCodes_result=checkZipCodes("checkNoTimeSpecifiedZipCodes",zipCode)).result){$("#fs_button_changeDeliveryMethod button.fs-c-button--change--small").trigger("click");const resetArrivalDate=setInterval((function(){$("#__fs_modal_delivery button.fs-c-button--settings").length&&($("#__fs_modal_delivery").css("display","none"),$("#fs_input_expectedArrival_time").val("none"),$("#__fs_modal_delivery button.fs-c-button--settings").trigger("click"),clearInterval(resetArrivalDate))}),1);$(".fs-l-page").before('<div id="confirmOrderAlert"><div id="confirmOrderAlert-inner"><h4>このお届け先は時間指定ができません</h4><p>配送業者がお届け時間指定に対応していないため「指定なし」に変更されました。</p><div class="confirmOrderAlert-button"><span>OK</span></div></div></div>'),$(".confirmOrderAlert-button").on("click",(function(){$("#confirmOrderAlert").remove(),noTimeSpecifiedZipCodes_result=void 0}))}}else optionResult.result2;if(1==checkRemoteIslandZipCodes_result.result&&(optionResult.result1>=0||optionResult.result2>=0?(orderDisabled(),$(".deliveryAlert").length||($(".fs-c-checkout-destination__title").after('<div class="deliveryAlert"><p class="mb-0">お届け先が沖縄・離島の場合は「組立サービス」をご利用いただけません。<br>該当する商品をカートから削除し、組立サービスを選択せずにカートに入れてからご注文ください。</p></div>'),$("#fs_button_placeOrder").after('<p class="deliveryMethodAlert1 red text-center mt-16">お届け先が沖縄・離島の場合は「組立サービス」をご利用いただけません。</p>'))):(orderEnabled(),$(".deliveryAlert").length&&($(".deliveryAlert").remove(),$(".deliveryMethodAlert1").remove()))),!$(".deliveryMethodAlert2").length){var sizeOrderArray=[];$(".fs-c-listedProductName__name").each((function(){sizeOrderArray.push($(this).text())})),(null!=sizeOrderArray.find(value=>value.match(/サイズオーダー/g))||optionResult.result1>=0||optionResult.result2>=0)&&$("#fs_button_placeOrder").before('<p class="deliveryMethodAlert2 mt-16"><span>お願い</span>サイズオーダーや組立サービスは、キャンセルや変更を承ることができません。ご注文内容に誤りがないかご確認ください。</p>'),$("#fs_couponCode").attr("placeholder","会員様のみご利用いただけます"),addDeliveryMethodTitle(optionResult),sizeOrderDisplayThumb(),couponUseCheck(),optionNameChange()}(optionResult.result1>=0||optionResult.result2>=0)&&($("#fs_input_payment_cashOnDelivery").prop("disabled",!0),$(".fs-c-checkout-paymentMethod--cashOnDelivery").css("opacity","0.5"),$(".fs-c-checkout-paymentMethod--cashOnDelivery .fs-c-radio__radioLabelText").html('代金引換<span class="red paymentCaution">（組立サービスをお申し込みの場合はご利用いただけません）</span>'),$("#fs_input_payment_cashOnDelivery").prop("checked")&&($(".fs-l-page").before('<div id="confirmOrderAlert"><div id="confirmOrderAlert-inner"><h4>代金引換をご利用いただけません</h4><p>申し訳ございませんが、組立サービスをお申し込みの場合は代金引換をご利用いただけません。</p><p>該当する商品をカートから削除し、組立サービスを選択せずに再度カートに入れてからご注文ください。</p><div class="confirmOrderAlert-button"><span>OK</span></div></div></div>'),$(".fs-c-checkout-paymentMethodList li:nth-child(2) label").trigger("click"),$(".confirmOrderAlert-button").on("click",(function(){$("#confirmOrderAlert").remove()}))));var sizeOrderArray=[];$(".fs-c-listedProductName__name").each((function(){sizeOrderArray.push($(this).text())})),null!=sizeOrderArray.find(value=>value.match(/サイズオーダー/g))&&($("#fs_input_payment_cashOnDelivery").prop("disabled",!0),$(".fs-c-checkout-paymentMethod--cashOnDelivery").css("opacity","0.5"),$(".fs-c-checkout-paymentMethod--cashOnDelivery .fs-c-radio__radioLabelText").html('代金引換<span class="red paymentCaution">（サイズオーダーをお申し込みの場合はご利用いただけません）</span>'),$("#fs_input_payment_cashOnDelivery").prop("checked")&&($(".fs-l-page").before('<div id="confirmOrderAlert"><div id="confirmOrderAlert-inner"><h4>代金引換をご利用いただけません</h4><p>申し訳ございませんが、サイズオーダーをお申し込みの場合は代金引換をご利用いただけません。</p><div class="confirmOrderAlert-button"><span>OK</span></div></div></div>'),$(".fs-c-checkout-paymentMethodList li:nth-child(2) label").trigger("click"),$(".confirmOrderAlert-button").on("click",(function(){$("#confirmOrderAlert").remove()})))),1==checkRemoteIslandZipCodes_result.result&&($("#fs_input_payment_cashOnDelivery").prop("disabled",!0),$(".fs-c-checkout-paymentMethod--cashOnDelivery").css("opacity","0.5"),$(".fs-c-checkout-paymentMethod--cashOnDelivery .fs-c-radio__radioLabelText").html('代金引換<span class="red paymentCaution">（沖縄・離島はご利用いただけません。）</span>'),$("#fs_input_payment_cashOnDelivery").prop("checked")&&($(".fs-l-page").before('<div id="confirmOrderAlert"><div id="confirmOrderAlert-inner"><h4>代金引換をご利用いただけません</h4><p>申し訳ございませんが、お届け先が沖縄・離島の場合は代金引換をご利用いただけません。</p><div class="confirmOrderAlert-button"><span>OK</span></div></div></div>'),$(".fs-c-checkout-paymentMethodList li:first-child label").trigger("click"),$(".confirmOrderAlert-button").on("click",(function(){$("#confirmOrderAlert").remove()})))),$(".fs-c-checkout-paymentMethod__disabledMessage").length&&$(".fs-c-checkout-paymentMethod--cashOnDelivery").css("opacity","0.5"),"指定なし"==$(".fs-c-checkout-delivery__method__deliveryDetail+dd").text()?$(".fs-c-checkout-delivery__method__deliveryDetail+dd").css("display","none"):$(".fs-c-checkout-delivery__method__deliveryDetail+dd").css("display","block"),$("#fs-deliveryInfo-container .fs-c-button--change--small").hover((function(){$("body").removeClass("modal_displayNone")}))}}},checkFlag=0,zipCodeChangeCheck,orderDisabled=function(){$("#fs_button_placeOrder button").prop("disabled",!0),$("#fs_button_placeOrder button").css({background:"#ccc",cursor:"default",border:"1px solid #ccc"})},orderEnabled=function(){$("#fs_button_placeOrder button").prop("disabled",!1),$("#fs_button_placeOrder button").css({background:"#e87909",cursor:"pointer",border:"1px solid #e87909"})};setInterval((function(){execution(optionResult)}),300),expectedArrival(optionResult)}}function expectedArrival(optionResult){if($("#fs_Checkout, #fs_CheckoutWithAmazon").length){var execution=function(){if(0==optionResult&&(optionResult=checkOption()),""!=$(".fs-c-checkout-delivery__method__deliveryDate").next("dd").text()){if(("指定なし"!=$(".fs-c-checkout-delivery__method__deliveryTime").next("dd").text()||"指定なし"!=$(".fs-c-checkout-delivery__method__deliveryDate").next("dd").text())&&0==stopFlag_load){$("#fs_button_changeDeliveryMethod button.fs-c-button--change--small").trigger("click");const resetArrivalDate=setInterval((function(){$("#__fs_modal_delivery button.fs-c-button--settings").length&&($("#__fs_modal_delivery").css("display","none"),$("#fs_input_expectedArrival_date").val("none"),$("#fs_input_expectedArrival_time").val("none"),$("#__fs_modal_delivery button.fs-c-button--settings").trigger("click"),clearInterval(resetArrivalDate))}),1);$(".fs-l-page").before('<div id="confirmOrderAlert"><div id="confirmOrderAlert-inner"><h4>お届け指定日時が「指定なし」に変更されました</h4><p>再読み込みがされたため、お届け指定日時が「指定なし」に変更されました。お届け指定日時を再設定してください。</p><div class="confirmOrderAlert-button"><span>OK</span></div></div></div>'),$(".confirmOrderAlert-button").on("click",(function(){$("#confirmOrderAlert").remove()}))}if(stopFlag_load=1,$(".fs-c-modal--checkout-deliveryMethod").length){var selectedValue=$("#fs_input_expectedArrival_date").val();if(0==stopFlag){var orderLeadTime=0,manufactureLeadTime=0,assemblyLeadTime=0,sizeOrderArray=[],operation_holyDay=["2022-11-05","2022-11-06","2022-11-12","2022-11-13","2022-11-19","2022-11-20","2022-11-26","2022-11-27","2022-12-03","2022-12-04","2022-12-10","2022-12-11","2022-12-17","2022-12-18","2022-12-24","2022-12-25","2022-12-29","2022-12-30","2022-12-31","2023-01-01","2023-01-02","2023-01-03","2023-01-07","2023-01-08","2023-01-14","2023-01-15","2023-01-21","2023-01-22","2023-01-28","2023-01-29","2023-02-04","2023-02-05","2023-02-11","2023-02-12","2023-02-18","2023-02-19","2023-02-25","2023-02-26","2023-03-04","2023-03-05","2023-03-11","2023-03-12","2023-03-18","2023-03-19","2023-03-25","2023-03-26","2023-04-01","2023-04-02","2023-04-08","2023-04-09","2023-04-15","2023-04-16","2023-04-22","2023-04-23","2023-04-29","2023-04-30","2023-05-03","2023-05-04","2023-05-05","2023-05-06","2023-05-07","2023-05-13","2023-05-14","2023-05-20","2023-05-21","2023-05-27","2023-05-28","2023-06-03","2023-06-04","2023-06-10","2023-06-11","2023-06-17","2023-06-18","2023-06-24","2023-06-25","2023-07-01","2023-07-02","2023-07-08","2023-07-09","2023-07-15","2023-07-16","2023-07-17","2023-07-22","2023-07-23","2023-07-29","2023-07-30","2023-08-05","2023-08-06","2023-08-11","2023-08-12","2023-08-13","2023-08-14","2023-08-15","2023-08-19","2023-08-20","2023-08-26","2023-08-27","2023-09-02","2023-09-03","2023-09-09","2023-09-10","2023-09-16","2023-09-17","2023-09-23","2023-09-24","2023-09-30","2023-10-01","2023-10-07","2023-10-08","2023-10-09","2023-10-14","2023-10-15","2023-10-21","2023-10-22","2023-10-28","2023-10-29","2023-11-04","2023-11-05","2023-11-11","2023-11-12","2023-11-18","2023-11-19","2023-11-25","2023-11-26","2023-12-02","2023-12-03","2023-12-09","2023-12-10","2023-12-16","2023-12-17","2023-12-23","2023-12-24","2023-12-28","2023-12-29","2023-12-30","2023-12-31"],factory_holyDay=["2022-11-05","2022-11-06","2022-11-12","2022-11-13","2022-11-19","2022-11-20","2022-11-26","2022-11-27","2022-12-03","2022-12-04","2022-12-10","2022-12-11","2022-12-17","2022-12-18","2022-12-24","2022-12-25","2022-12-28","2022-12-29","2022-12-30","2022-12-31","2023-01-01","2023-01-02","2023-01-03","2023-01-04","2023-01-07","2023-01-08","2023-01-14","2023-01-15","2023-01-21","2023-01-22","2023-01-28","2023-01-29","2023-02-04","2023-02-05","2023-02-11","2023-02-12","2023-02-18","2023-02-19","2023-02-23","2023-02-25","2023-02-26","2023-03-04","2023-03-05","2023-03-11","2023-03-12","2023-03-18","2023-03-19","2023-03-25","2023-03-26","2023-04-01","2023-04-02","2023-04-08","2023-04-09","2023-04-15","2023-04-16","2023-04-22","2023-04-23","2023-04-29","2023-04-30","2023-05-03","2023-05-04","2023-05-05","2023-05-06","2023-05-07","2023-05-13","2023-05-14","2023-05-20","2023-05-21","2023-05-27","2023-05-28","2023-06-03","2023-06-04","2023-06-10","2023-06-11","2023-06-17","2023-06-18","2023-06-24","2023-06-25","2023-07-01","2023-07-02","2023-07-08","2023-07-09","2023-07-15","2023-07-16","2023-07-22","2023-07-23","2023-07-24","2023-07-25","2023-07-26","2023-07-29","2023-07-30","2023-08-05","2023-08-06","2023-08-11","2023-08-12","2023-08-13","2023-08-14","2023-08-15","2023-08-16","2023-08-19","2023-08-20","2023-08-26","2023-08-27","2023-09-02","2023-09-03","2023-09-09","2023-09-10","2023-09-16","2023-09-17","2023-09-18","2023-09-23","2023-09-24","2023-09-30","2023-10-01","2023-10-07","2023-10-08","2023-10-09","2023-10-14","2023-10-15","2023-10-21","2023-10-22","2023-10-28","2023-10-29","2023-11-04","2023-11-05","2023-11-11","2023-11-12","2023-11-18","2023-11-19","2023-11-25","2023-11-26","2023-12-02","2023-12-03","2023-12-09","2023-12-10","2023-12-16","2023-12-17","2023-12-23","2023-12-24","2023-12-28","2023-12-29","2023-12-30","2023-12-31"],arrivalDate_ary=[];function checkHolyDay(arrivalDate_ary,leadTime,holyDay,status){for(let i=0;i<leadTime;i++)$.inArray(arrivalDate_ary[i],holyDay)>-1?(arrivalDate_ary[i]="",leadTime++):arrivalDate_ary[i]="";return arrivalDate_ary=arrivalDate_ary.filter(Boolean)}$("#fs_input_expectedArrival_date option").each((function(){arrivalDate_ary.push($(this).val())})),arrivalDate_ary.splice(0,1),$(".fs-c-listedProductName__name").each((function(){sizeOrderArray.push($(this).text())})),null!=sizeOrderArray.find(value=>value.match(/サイズオーダー/g))?(arrivalDate_ary=checkHolyDay(arrivalDate_ary,orderLeadTime+=3,operation_holyDay,"事務処理"),arrivalDate_ary=checkHolyDay(arrivalDate_ary,manufactureLeadTime+=10,factory_holyDay,"生産")):optionResult.result1>=0||optionResult.result2>=0?(arrivalDate_ary=checkHolyDay(arrivalDate_ary,orderLeadTime+=3,operation_holyDay,"事務処理"),arrivalDate_ary=checkHolyDay(arrivalDate_ary,assemblyLeadTime+=5,operation_holyDay,"組立")):$("#fs_input_payment_bankTransfer").prop("checked")&&(arrivalDate_ary=checkHolyDay(arrivalDate_ary,orderLeadTime+=1,operation_holyDay,"事務処理"));var deliveryReadyLeadTime=1;for(let i=0;i<deliveryReadyLeadTime;i++)$.inArray(arrivalDate_ary[i],operation_holyDay)>-1?(arrivalDate_ary[i]="",deliveryReadyLeadTime++):arrivalDate_ary[i]="";arrivalDate_ary=arrivalDate_ary.filter(Boolean);var prefArray_SGW=[{pref:"北海道",leadTime:3},{pref:"青森県",leadTime:2},{pref:"岩手県",leadTime:2},{pref:"宮城県",leadTime:2},{pref:"秋田県",leadTime:2},{pref:"山形県",leadTime:2},{pref:"福島県",leadTime:2},{pref:"茨城県",leadTime:1},{pref:"栃木県",leadTime:1},{pref:"群馬県",leadTime:1},{pref:"埼玉県",leadTime:1},{pref:"千葉県",leadTime:1},{pref:"東京都",leadTime:1},{pref:"神奈川県",leadTime:1},{pref:"新潟県",leadTime:1},{pref:"富山県",leadTime:1},{pref:"石川県",leadTime:1},{pref:"福井県",leadTime:1},{pref:"山梨県",leadTime:1},{pref:"長野県",leadTime:1},{pref:"岐阜県",leadTime:1},{pref:"静岡県",leadTime:1},{pref:"愛知県",leadTime:1},{pref:"三重県",leadTime:1},{pref:"滋賀県",leadTime:1},{pref:"京都府",leadTime:1},{pref:"大阪府",leadTime:1},{pref:"兵庫県",leadTime:1},{pref:"奈良県",leadTime:1},{pref:"和歌山県",leadTime:1},{pref:"鳥取県",leadTime:2},{pref:"島根県",leadTime:2},{pref:"岡山県",leadTime:2},{pref:"広島県",leadTime:2},{pref:"山口県",leadTime:2},{pref:"徳島県",leadTime:2},{pref:"香川県",leadTime:2},{pref:"愛媛県",leadTime:2},{pref:"高知県",leadTime:2},{pref:"福岡県",leadTime:3},{pref:"佐賀県",leadTime:3},{pref:"長崎県",leadTime:3},{pref:"熊本県",leadTime:3},{pref:"大分県",leadTime:3},{pref:"宮崎県",leadTime:3},{pref:"鹿児島県",leadTime:3},{pref:"沖縄県",leadTime:7}],prefArray_YHC=[{pref:"北海道",leadTime:6},{pref:"青森県",leadTime:4},{pref:"岩手県",leadTime:4},{pref:"宮城県",leadTime:3},{pref:"秋田県",leadTime:4},{pref:"山形県",leadTime:4},{pref:"福島県",leadTime:4},{pref:"茨城県",leadTime:3},{pref:"栃木県",leadTime:3},{pref:"群馬県",leadTime:3},{pref:"埼玉県",leadTime:2},{pref:"千葉県",leadTime:3},{pref:"東京都",leadTime:2},{pref:"神奈川県",leadTime:2},{pref:"新潟県",leadTime:4},{pref:"富山県",leadTime:4},{pref:"石川県",leadTime:5},{pref:"福井県",leadTime:5},{pref:"山梨県",leadTime:3},{pref:"長野県",leadTime:4},{pref:"岐阜県",leadTime:4},{pref:"静岡県",leadTime:2},{pref:"愛知県",leadTime:3},{pref:"三重県",leadTime:3},{pref:"滋賀県",leadTime:3},{pref:"京都府",leadTime:3},{pref:"大阪府",leadTime:3},{pref:"兵庫県",leadTime:3},{pref:"奈良県",leadTime:3},{pref:"和歌山県",leadTime:3},{pref:"鳥取県",leadTime:7},{pref:"島根県",leadTime:7},{pref:"岡山県",leadTime:6},{pref:"広島県",leadTime:6},{pref:"山口県",leadTime:5},{pref:"徳島県",leadTime:5},{pref:"香川県",leadTime:5},{pref:"愛媛県",leadTime:5},{pref:"高知県",leadTime:5},{pref:"福岡県",leadTime:4},{pref:"佐賀県",leadTime:5},{pref:"長崎県",leadTime:5},{pref:"熊本県",leadTime:5},{pref:"大分県",leadTime:5},{pref:"宮崎県",leadTime:5},{pref:"鹿児島県",leadTime:5},{pref:"沖縄県",leadTime:10}],destinationAddress=$(".fs-c-checkout-destination__address__address").text().split(/\s+/),expectedArrival_time_selected=$("#fs_input_expectedArrival_time").val();if(optionResult.result2>=0){var prefArray=prefArray_YHC,zipCode;expectedArrivalTime_YHC(expectedArrival_time_selected,$(".fs-c-checkout-destination__address .fs-c-checkout-destination__address__zipCode").text().replace("-",""))}else if(optionResult.result1>=0){expectedArrivalTime_SGW(expectedArrival_time_selected);var prefArray=prefArray_SGW}else{expectedArrivalTime_SGW(expectedArrival_time_selected);var prefArray=prefArray_SGW}var prefArray_find,deliveryLeadTime=prefArray.find(u=>u.pref===destinationAddress[0]).leadTime;for(i=0;i<deliveryLeadTime;i++)arrivalDate_ary[i]="";arrivalDate_ary=arrivalDate_ary.filter(Boolean);var optionHtml='<option value="none">指定なし</option>';for(i=0;arrivalDate_ary.length>i;i++){var dateValue_ary=arrivalDate_ary[i].split("-"),yearStr=Number(dateValue_ary[0]),monthStr=Number(dateValue_ary[1]),dayStr=Number(dateValue_ary[2]),jsMonth,dayOfWeekStrJP=["日","月","火","水","木","金","土"],date=new Date(yearStr,monthStr-1,dayStr);optionHtml=optionHtml+'<option value="'+arrivalDate_ary[i]+'">'+dateValue_ary[0]+"/"+dateValue_ary[1]+"/"+dateValue_ary[2]+"("+dayOfWeekStrJP[date.getDay()]+")</option>"}$("#fs_input_expectedArrival_date").html(optionHtml),$("#fs_input_expectedArrival_date").val(selectedValue)}stopFlag=1}else{if(stopFlag=0,checkAddress=$(".fs-c-checkout-destination__address__address").text(),""==checkAddressRetention)checkAddressRetention=checkAddress;else if(checkAddressRetention!=checkAddress){if("指定なし"!=$(".fs-c-checkout-delivery__method__deliveryTime").next("dd").text()||"指定なし"!=$(".fs-c-checkout-delivery__method__deliveryDate").next("dd").text()){$("#fs_button_changeDeliveryMethod button.fs-c-button--change--small").trigger("click");const resetArrivalDate=setInterval((function(){$("#__fs_modal_delivery button.fs-c-button--settings").length&&($("#__fs_modal_delivery").css("display","none"),$("#fs_input_expectedArrival_date").val("none"),$("#fs_input_expectedArrival_time").val("none"),$("#__fs_modal_delivery button.fs-c-button--settings").trigger("click"),clearInterval(resetArrivalDate))}),1);$(".fs-l-page").before('<div id="confirmOrderAlert"><div id="confirmOrderAlert-inner"><h4>お届け希望日時が「指定なし」に変更されました</h4><p>届け先住所が変更されたため、<span class="red">お届け希望日時を再度指定</span>してください。</p><div class="confirmOrderAlert-button"><span>OK</span></div></div></div>'),$(".confirmOrderAlert-button").on("click",(function(){$("#confirmOrderAlert").remove(),noTimeSpecifiedZipCodes_result=void 0}))}checkAddressRetention=checkAddress}if(checkPayment=$(".fs-c-checkout-paymentMethodList input:checked").val(),""==checkPaymentRetention)checkPaymentRetention=checkPayment;else if("指定なし"!=$(".fs-c-checkout-delivery__method__deliveryTime").next("dd").text()||"指定なし"!=$(".fs-c-checkout-delivery__method__deliveryDate").next("dd").text()){if("BANK_TRANSFER"==checkPayment&&checkPaymentRetention!=checkPayment){$("#fs_button_changeDeliveryMethod button.fs-c-button--change--small").trigger("click");const resetArrivalDate=setInterval((function(){$("#__fs_modal_delivery button.fs-c-button--settings").length&&($("#__fs_modal_delivery").css("display","none"),$("#fs_input_expectedArrival_date").val("none"),$("#fs_input_expectedArrival_time").val("none"),$("#__fs_modal_delivery button.fs-c-button--settings").trigger("click"),clearInterval(resetArrivalDate))}),1);$(".fs-l-page").before('<div id="confirmOrderAlert"><div id="confirmOrderAlert-inner"><h4>お届け希望日時が「指定なし」に変更されました</h4><p>お支払い方法が銀行振込に変更されたため、<span class="red">お届け希望日時を再度指定</span>してください。</p><div class="confirmOrderAlert-button"><span>OK</span></div></div></div>'),$(".confirmOrderAlert-button").on("click",(function(){$("#confirmOrderAlert").remove(),noTimeSpecifiedZipCodes_result=void 0}))}checkPaymentRetention=checkPayment}}}},stopFlag=0,stopFlag_load=0,checkAddress="",checkAddressRetention="",checkPayment="",checkPaymentRetention="";setInterval((function(){execution(optionResult)}),300)}}function expectedArrivalTime_SGW(selected){var expectedArrival_time_html;expectedArrival_time_html='<option value="2">12:00～14:00</option><option value="3">14:00～16:00</option><option value="4">16:00～18:00</option><option value="5">18:00～21:00</option>',$("#fs_input_expectedArrival_time").replaceWith('<select name="time" id="fs_input_expectedArrival_time" class="fs-c-dropdown__menu"><option value="none" selected="selected">指定なし</option><option value="1">午前中</option>'+expectedArrival_time_html+"</select>"),$('#fs_input_expectedArrival_time option[value="'+selected+'"]').prop("selected",!0)}function expectedArrivalTime_YHC(selected,zipCode){if(1==(yhcTimeSpecifiedZipCodes_result=checkZipCodes("checkYhcTimeSpecifiedZipCodes",zipCode)).serviceType4_is){var expectedArrival_time_type4_html='<option value="6">12:00〜15:00</option><option value="7">15:00〜18:00</option><option value="8">18:00〜21:00</option>';$("#fs_input_expectedArrival_time").replaceWith('<select name="time" id="fs_input_expectedArrival_time" class="fs-c-dropdown__menu"><option value="none" selected="selected">指定なし</option><option value="1">午前中</option>'+expectedArrival_time_type4_html+"</select>"),$('#fs_input_expectedArrival_time option[value="'+selected+'"]').prop("selected",!0)}else if(1==yhcTimeSpecifiedZipCodes_result.serviceType3_is){var expectedArrival_time_type3_html='<option value="9">12:00〜18:00</option><option value="8">18:00〜21:00</option>';$("#fs_input_expectedArrival_time").replaceWith('<select name="time" id="fs_input_expectedArrival_time" class="fs-c-dropdown__menu"><option value="none" selected="selected">指定なし</option><option value="1">午前中</option>'+expectedArrival_time_type3_html+"</select>"),$('#fs_input_expectedArrival_time option[value="'+selected+'"]').prop("selected",!0)}else $("#fs_input_expectedArrival_time").replaceWith('<select name="time" id="fs_input_expectedArrival_time" class="fs-c-dropdown__menu" disabled><option value="none" selected="selected">指定なし</option></select>'),$(".fs-c-checkout-deliveryMethod__deliveryTime label").html('お届け時間帯 <span class="red">このお届け先は時間をご指定いただけません</span>'),$('#fs_input_expectedArrival_time option[value="none"]').prop("selected",!0)}function checkOption(){var optionArray=[],result1,result2;return $(".fs-c-listedOptionPrice__option__value").each((function(){optionArray.push($(this).text())})),0!=optionArray.length&&{result1:$.inArray("組立済+玄関渡し",optionArray),result2:$.inArray("組立済+搬入",optionArray)}}$(window).on("load",(function(){optionJudgment()}));
=======
function optionNameChange(){if($("#fs_Checkout,#fs_CheckoutWithAmazon").length&&!$(".optionNameChanged").length){var e="",t="",i="",r=["por-1830d-na","por-1830d-wh","por-1830d-dk","por-5530du-na","por-5530du-wh","por-5530du-dk","hnb-4540d","adl-4013dh-na","adl-4013dh-wh","adl-4013dh-dk"];$(".fs-c-listedProductName__name").each(function(){e=$(this).attr("href"),t=e.split("/"),i=t[t.length-1];var d="";-1!=r.indexOf(i)&&(i.match(/por-5530du|hnb-4540d|por-1830d/)?(d=$(this).next(".fs-c-listedProductName__selection").find(".fs-c-listedProductName__selection__choice").text(),d=`（扉の開き方：${d})`,$(this).next(".fs-c-listedProductName__selection").find(".fs-c-listedProductName__selection__choice").text(d)):i.match(/adl-4013dh/)&&(d=$(this).next(".fs-c-listedProductName__selection").find(".fs-c-listedProductName__selection__choice").text(),d=`（組立の向き：${d})`,$(this).next(".fs-c-listedProductName__selection").find(".fs-c-listedProductName__selection__choice").text(d)),$(this).addClass("optionNameChanged"))})}}function checkZipCodes(e){var t="https://chf394ul5c.execute-api.ap-northeast-1.amazonaws.com/prod/checkDeliveryZipCodes",i={zip_code:e},r=$.ajax({type:"post",url:t,async:!1,data:JSON.stringify(i),contentType:"application/json",dataType:"json",scriptCharset:"utf-8",success:function(e){},error:function(e){}}).responseText;return r=JSON.parse(r),r}function couponUseCheck(){$("#fs_Checkout,#fs_CheckoutWithAmazon").length&&($(".couponUseCheck").length||$("#fs_button_placeOrder").before('<p class="couponUseCheck text-center mt-24 mb-24"><a href="#fs-couponInfo-container" class="text-link-color">クーポンの付け忘れはございませんか？</a></p>'))}function addDeliveryMethodTitle(e){$("#fs_Checkout,#fs_CheckoutWithAmazon").length&&0!=e&&($(".addDeliveryDateTimeTitle").length||$(".fs-c-checkout-delivery__method__deliveryDateTime").before('<h4 class="fs-c-checkout-delivery__method__title addDeliveryDateTimeTitle mt-48">お届け希望日時</h4>'))}function sizeOrderDisplayThumb(){$(".fs-c-cartTable__dataCell").each(function(){$(this).find(".fs-c-listedProductName__name").text().indexOf("サイズオーダー")>=0?$(this).find(".fs-c-cartTable__product").addClass("sizeOrder"):$(this).find(".fs-c-cartTable__product").addClass("readyMade")});var e="",t="",i="",r="",d="",l="";$(".sizeOrder").length&&$(".sizeOrder").find(".fs-c-productImage__image").attr("src").indexOf("xs.jpg")>=0&&$(".sizeOrder").each(function(){e=$(this).find(".fs-c-listedOptionPrice__option__value").html();var n=$(this).find(".fs-c-listedProductName__name").attr("href");if(n.indexOf("tnl-em")>=0){switch(e.indexOf("本体")>=0?(t="TNL-EM",i=e.replace(/.*高さ([0-9]+)cm.*/g,"$1"),i<100&&(t="TNL-EM0")):e.indexOf("上置き")>=0?(t="TNL-EMU",i=""):e.indexOf("追加移動棚")>=0&&(t="TNL-EMTS"),r=e.replace(/.*横幅([0-9]+)cm.*/g,"$1"),r>=15&&r<=34?r="015_034":r>=35&&r<=44?r="035_044":r>=45&&r<=60?r="045_060":r>=61&&r<=70?r="061_070":r>=71&&r<=80?r="071_080":r>=81&&r<=90&&(r="081_090"),d=e.replace(/.*奥行([0-9]+)cm.*/g,"$1"),19==d?d="A":29==d?d="M":44==d&&(d="F"),l=$(this).find(".fs-c-listedOptionPrice__option:nth-child(3) .fs-c-listedOptionPrice__option__value").text(),l){case"ブラックウォールナット":l="KW";break;case"ダークオーク":l="DK";break;case"ブラウンウォールナット":l="BW";break;case"ブラウンオーク":l="BO";break;case"ナチュラルチーク":l="NT";break;case"ナチュラルオーク3":l="NC";break;case"ナチュラルオーク1":l="NA";break;case"ナチュラルビーチ":l="NB";break;case"ホワイトオーク":l="WH";break;case"ホワイト単色":l="WT"}if("TNL-EMTS"==t)var c=t+r+d+"-"+l+"_thum.jpg";else c=t+i+r+d+"-"+l+"_thum.jpg";$(this).find("img").attr("src","/assets/img/product/sizeOrder/tnl-em/thum/"+c)}else if(n.indexOf("sep-emdesk")>=0){switch(r=e.replace(/.*横幅([0-9]+)cm.*/g,"$1"),e.indexOf("深型")?d="f":e.indexOf("浅型")&&(d="a"),l=$(this).find(".fs-c-listedOptionPrice__option:nth-child(3) .fs-c-listedOptionPrice__option__value").text(),l){case"ダークブラウン":l="dk";break;case"ナチュラルブラウン":l="na";break;case"アイボリー":l="iv"}r=r.slice(0,-1)+"0";c=r+d+"-"+l+"_thum.jpg";$(this).find("img").attr("src","/assets/img/product/sizeOrder/sep-em/desk/thum/"+c)}else if(n.indexOf("sep-em")>=0){switch(r=e.replace(/.*横([0-9]+)マス.*/g,"$1"),i=e.replace(/.*縦([0-9]+)マス.*/g,"$1"),l=$(this).find(".fs-c-listedOptionPrice__option:nth-child(3) .fs-c-listedOptionPrice__option__value").text(),l){case"ダークブラウン":l="dk";break;case"ナチュラルブラウン":l="na";break;case"アイボリー":l="iv"}c=r+"-"+i+"-"+l+"_thum.jpg";$(this).find("img").attr("src","/assets/img/product/sizeOrder/sep-em/rack/thum/"+c)}}),$(".readyMade").length&&$(".readyMade img").each(function(){var e=$(this).attr("src");e=e.replace(/[0-9]{2}-xs.jpg/,"02-xs.jpg"),$(this).attr("src",e)})}function optionJudgment(){if($("#fs_Checkout,#fs_CheckoutWithAmazon").length){var e,t=!1,i=function(){if(0==t&&(t=checkOption()),0!=t){var i=$(".fs-c-checkout-destination__address .fs-c-checkout-destination__address__zipCode").text().replace("-","");if(null!=i&&(i!=e&&(e=i,checkZipCodeResult=checkZipCodes(i),$("body").addClass("modal_displayNone"),setTimeout(function(){$("#fs_button_changeDeliveryMethod button.fs-c-button--change--small").trigger("click"),setTimeout(function(){1==checkZipCodeResult.remote_island_is?$("#fs_input_expectedArrival_note").val("【重要】お届け先が離島であるため別途送料がかかります。ご注文内容を確認後にメールにて送料をお知らせします。追加送料にご了承いただきましたら発送いたします。"):$("#fs_input_expectedArrival_note").val(""),setTimeout(function(){$("#__fs_modal_delivery button.fs-c-button--settings").trigger("click")},1)},1),r=1},300)),1==r)){var n=$(".fs-c-checkout-delivery__method__deliveryDate").next("dd").text(),c=$(".fs-c-checkout-delivery__method__deliveryTime").next("dd").text();if(t.result2>=0?1==checkZipCodeResult.yhc_serviceType4_is||1==checkZipCodeResult.yhc_serviceType3_is?"指定なし"!=n&&"指定なし"!=c||(d(),$(".deliveryMethodAlert").length||$("#fs_button_placeOrder").after('<p class="deliveryMethodAlert red text-center mt-16">このお届け先で「組立済+搬入」サービスをご利用の場合は<strong>お届け希望日と時間帯</strong>をご指定ください。</p>')):0==checkZipCodeResult.yhc_serviceType4_is&&0==checkZipCodeResult.yhc_serviceType3_is&&"指定なし"==n&&(d(),$(".deliveryMethodAlert").length||$("#fs_button_placeOrder").after('<p class="deliveryMethodAlert red text-center mt-16">このお届け先で「組立済+搬入」サービスをご利用の場合は<strong>お届け希望日</strong>をご指定ください。</p>')):(l(),$(".deliveryMethodAlert").length&&$(".deliveryMethodAlert").remove()),"指定なし"!=c)if(null==t.result2||-1==t.result2){if(null==checkZipCodeResult.sgw_time_specified_is&&1==checkZipCodeResult.sgw_time_specified_is){$("#fs_button_changeDeliveryMethod button.fs-c-button--change--small").trigger("click");const e=setInterval(function(){$("#__fs_modal_delivery button.fs-c-button--settings").length&&($("#__fs_modal_delivery").css("display","none"),$("#fs_input_expectedArrival_time").val("none"),$("#__fs_modal_delivery button.fs-c-button--settings").trigger("click"),clearInterval(e))},1);$(".fs-l-page").before('<div id="confirmOrderAlert"><div id="confirmOrderAlert-inner"><h4>このお届け先は時間指定ができません</h4><p>配送業者がお届け時間指定に対応していないため「指定なし」に変更されました。</p><div class="confirmOrderAlert-button"><span>OK</span></div></div></div>'),$(".confirmOrderAlert-button").on("click",function(){$("#confirmOrderAlert").remove(),checkZipCodeResult.sgw_time_specified_is=void 0})}}else t.result2;if(1==checkZipCodeResult.remote_island_is&&(t.result1>=0||t.result2>=0?(d(),$(".deliveryAlert").length||($(".fs-c-checkout-destination__title").after('<div class="deliveryAlert"><p class="mb-0">お届け先が沖縄・離島の場合は「組立サービス」をご利用いただけません。<br>該当する商品をカートから削除し、組立サービスを選択せずにカートに入れてからご注文ください。</p></div>'),$("#fs_button_placeOrder").after('<p class="deliveryMethodAlert1 red text-center mt-16">お届け先が沖縄・離島の場合は「組立サービス」をご利用いただけません。</p>'))):(l(),$(".deliveryAlert").length&&($(".deliveryAlert").remove(),$(".deliveryMethodAlert1").remove()))),!$(".deliveryMethodAlert2").length){var s=[];$(".fs-c-listedProductName__name").each(function(){s.push($(this).text())}),(null!=s.find(e=>e.match(/サイズオーダー/g))||t.result1>=0||t.result2>=0)&&$("#fs_button_placeOrder").before('<p class="deliveryMethodAlert2 mt-16"><span>お願い</span>サイズオーダーや組立サービスは、キャンセルや変更を承ることができません。ご注文内容に誤りがないかご確認ください。</p>'),$("#fs_couponCode").attr("placeholder","会員様のみご利用いただけます"),addDeliveryMethodTitle(t),sizeOrderDisplayThumb(),couponUseCheck(),optionNameChange()}(t.result1>=0||t.result2>=0)&&($("#fs_input_payment_cashOnDelivery").prop("disabled",!0),$(".fs-c-checkout-paymentMethod--cashOnDelivery").css("opacity","0.5"),$(".fs-c-checkout-paymentMethod--cashOnDelivery .fs-c-radio__radioLabelText").html('代金引換<span class="red paymentCaution">（組立サービスをお申し込みの場合はご利用いただけません）</span>'),$("#fs_input_payment_cashOnDelivery").prop("checked")&&($(".fs-l-page").before('<div id="confirmOrderAlert"><div id="confirmOrderAlert-inner"><h4>代金引換をご利用いただけません</h4><p>申し訳ございませんが、組立サービスをお申し込みの場合は代金引換をご利用いただけません。</p><p>該当する商品をカートから削除し、組立サービスを選択せずに再度カートに入れてからご注文ください。</p><div class="confirmOrderAlert-button"><span>OK</span></div></div></div>'),$(".fs-c-checkout-paymentMethodList li:nth-child(2) label").trigger("click"),$(".confirmOrderAlert-button").on("click",function(){$("#confirmOrderAlert").remove()})));s=[];$(".fs-c-listedProductName__name").each(function(){s.push($(this).text())}),null!=s.find(e=>e.match(/サイズオーダー/g))&&($("#fs_input_payment_cashOnDelivery").prop("disabled",!0),$(".fs-c-checkout-paymentMethod--cashOnDelivery").css("opacity","0.5"),$(".fs-c-checkout-paymentMethod--cashOnDelivery .fs-c-radio__radioLabelText").html('代金引換<span class="red paymentCaution">（サイズオーダーをお申し込みの場合はご利用いただけません）</span>'),$("#fs_input_payment_cashOnDelivery").prop("checked")&&($(".fs-l-page").before('<div id="confirmOrderAlert"><div id="confirmOrderAlert-inner"><h4>代金引換をご利用いただけません</h4><p>申し訳ございませんが、サイズオーダーをお申し込みの場合は代金引換をご利用いただけません。</p><div class="confirmOrderAlert-button"><span>OK</span></div></div></div>'),$(".fs-c-checkout-paymentMethodList li:nth-child(2) label").trigger("click"),$(".confirmOrderAlert-button").on("click",function(){$("#confirmOrderAlert").remove()}))),1==checkZipCodeResult.remote_island_is&&($("#fs_input_payment_cashOnDelivery").prop("disabled",!0),$(".fs-c-checkout-paymentMethod--cashOnDelivery").css("opacity","0.5"),$(".fs-c-checkout-paymentMethod--cashOnDelivery .fs-c-radio__radioLabelText").html('代金引換<span class="red paymentCaution">（沖縄・離島はご利用いただけません。）</span>'),$("#fs_input_payment_cashOnDelivery").prop("checked")&&($(".fs-l-page").before('<div id="confirmOrderAlert"><div id="confirmOrderAlert-inner"><h4>代金引換をご利用いただけません</h4><p>申し訳ございませんが、お届け先が沖縄・離島の場合は代金引換をご利用いただけません。</p><div class="confirmOrderAlert-button"><span>OK</span></div></div></div>'),$(".fs-c-checkout-paymentMethodList li:first-child label").trigger("click"),$(".confirmOrderAlert-button").on("click",function(){$("#confirmOrderAlert").remove()}))),$(".fs-c-checkout-paymentMethod__disabledMessage").length&&$(".fs-c-checkout-paymentMethod--cashOnDelivery").css("opacity","0.5"),"指定なし"==$(".fs-c-checkout-delivery__method__deliveryDetail+dd").text()?$(".fs-c-checkout-delivery__method__deliveryDetail+dd").css("display","none"):$(".fs-c-checkout-delivery__method__deliveryDetail+dd").css("display","block"),$("#fs-deliveryInfo-container .fs-c-button--change--small").hover(function(){$("body").removeClass("modal_displayNone")})}}},r=0,d=function(){$("#fs_button_placeOrder button").prop("disabled",!0),$("#fs_button_placeOrder button").css({background:"#ccc",cursor:"default",border:"1px solid #ccc"})},l=function(){$("#fs_button_placeOrder button").prop("disabled",!1),$("#fs_button_placeOrder button").css({background:"#e87909",cursor:"pointer",border:"1px solid #e87909"})};setInterval(function(){i(t)},300),expectedArrival(t)}}function expectedArrival(e){if($("#fs_Checkout, #fs_CheckoutWithAmazon").length){var t=function(){if(0==e&&(e=checkOption()),""!=$(".fs-c-checkout-delivery__method__deliveryDate").next("dd").text()){if(("指定なし"!=$(".fs-c-checkout-delivery__method__deliveryTime").next("dd").text()||"指定なし"!=$(".fs-c-checkout-delivery__method__deliveryDate").next("dd").text())&&0==d){$("#fs_button_changeDeliveryMethod button.fs-c-button--change--small").trigger("click");const e=setInterval(function(){$("#__fs_modal_delivery button.fs-c-button--settings").length&&($("#__fs_modal_delivery").css("display","none"),$("#fs_input_expectedArrival_date").val("none"),$("#fs_input_expectedArrival_time").val("none"),$("#__fs_modal_delivery button.fs-c-button--settings").trigger("click"),clearInterval(e))},1);$(".fs-l-page").before('<div id="confirmOrderAlert"><div id="confirmOrderAlert-inner"><h4>お届け指定日時が「指定なし」に変更されました</h4><p>再読み込みがされたため、お届け指定日時が「指定なし」に変更されました。お届け指定日時を再設定してください。</p><div class="confirmOrderAlert-button"><span>OK</span></div></div></div>'),$(".confirmOrderAlert-button").on("click",function(){$("#confirmOrderAlert").remove()})}if(d=1,$(".fs-c-modal--checkout-deliveryMethod").length){var t=$("#fs_input_expectedArrival_date").val();if(0==r){var a=0,o=0,p=0,f=[],_=["2023-01-01","2023-01-02","2023-01-03","2023-01-07","2023-01-08","2023-01-14","2023-01-15","2023-01-21","2023-01-22","2023-01-28","2023-01-29","2023-02-04","2023-02-05","2023-02-11","2023-02-12","2023-02-18","2023-02-19","2023-02-25","2023-02-26","2023-03-04","2023-03-05","2023-03-11","2023-03-12","2023-03-18","2023-03-19","2023-03-25","2023-03-26","2023-04-01","2023-04-02","2023-04-08","2023-04-09","2023-04-15","2023-04-16","2023-04-22","2023-04-23","2023-04-29","2023-04-30","2023-05-03","2023-05-04","2023-05-05","2023-05-06","2023-05-07","2023-05-13","2023-05-14","2023-05-20","2023-05-21","2023-05-27","2023-05-28","2023-06-03","2023-06-04","2023-06-10","2023-06-11","2023-06-17","2023-06-18","2023-06-24","2023-06-25","2023-07-01","2023-07-02","2023-07-08","2023-07-09","2023-07-15","2023-07-16","2023-07-17","2023-07-22","2023-07-23","2023-07-29","2023-07-30","2023-08-05","2023-08-06","2023-08-11","2023-08-12","2023-08-13","2023-08-14","2023-08-15","2023-08-19","2023-08-20","2023-08-26","2023-08-27","2023-09-02","2023-09-03","2023-09-09","2023-09-10","2023-09-16","2023-09-17","2023-09-23","2023-09-24","2023-09-30","2023-10-01","2023-10-07","2023-10-08","2023-10-09","2023-10-14","2023-10-15","2023-10-21","2023-10-22","2023-10-28","2023-10-29","2023-11-04","2023-11-05","2023-11-11","2023-11-12","2023-11-18","2023-11-19","2023-11-25","2023-11-26","2023-12-02","2023-12-03","2023-12-09","2023-12-10","2023-12-16","2023-12-17","2023-12-23","2023-12-24","2023-12-28","2023-12-29","2023-12-30","2023-12-31"],m=["2023-01-01","2023-01-02","2023-01-03","2023-01-04","2023-01-07","2023-01-08","2023-01-14","2023-01-15","2023-01-21","2023-01-22","2023-01-28","2023-01-29","2023-02-04","2023-02-05","2023-02-11","2023-02-12","2023-02-18","2023-02-19","2023-02-23","2023-02-25","2023-02-26","2023-03-04","2023-03-05","2023-03-11","2023-03-12","2023-03-18","2023-03-19","2023-03-25","2023-03-26","2023-04-01","2023-04-02","2023-04-08","2023-04-09","2023-04-15","2023-04-16","2023-04-22","2023-04-23","2023-04-29","2023-04-30","2023-05-03","2023-05-04","2023-05-05","2023-05-06","2023-05-07","2023-05-13","2023-05-14","2023-05-20","2023-05-21","2023-05-27","2023-05-28","2023-06-03","2023-06-04","2023-06-10","2023-06-11","2023-06-17","2023-06-18","2023-06-24","2023-06-25","2023-07-01","2023-07-02","2023-07-08","2023-07-09","2023-07-15","2023-07-16","2023-07-22","2023-07-23","2023-07-24","2023-07-25","2023-07-29","2023-07-30","2023-08-05","2023-08-06","2023-08-11","2023-08-12","2023-08-13","2023-08-14","2023-08-15","2023-08-16","2023-08-19","2023-08-20","2023-08-26","2023-08-27","2023-09-02","2023-09-03","2023-09-09","2023-09-10","2023-09-16","2023-09-17","2023-09-18","2023-09-23","2023-09-24","2023-09-30","2023-10-01","2023-10-07","2023-10-08","2023-10-09","2023-10-14","2023-10-15","2023-10-21","2023-10-22","2023-10-28","2023-10-29","2023-11-04","2023-11-05","2023-11-11","2023-11-12","2023-11-18","2023-11-19","2023-11-25","2023-11-26","2023-12-02","2023-12-03","2023-12-09","2023-12-10","2023-12-16","2023-12-17","2023-12-23","2023-12-24","2023-12-28","2023-12-29","2023-12-30","2023-12-31"],u=[];function h(e,t,i,r){for(let d=0;d<t;d++)if($.inArray(e[d],i)>-1)e[d]="",t++;else{if("生産"==r&&d==t-1)break;e[d]=""}return e=e.filter(Boolean),e}$("#fs_input_expectedArrival_date option").each(function(){u.push($(this).val())}),u.splice(0,1),$(".fs-c-listedProductName__name").each(function(){f.push($(this).text())});var v=1;null!=f.find(e=>e.match(/サイズオーダー/g))?(a+=3,u=h(u,a,_,"事務処理"),o+=10,u=h(u,o,m,"生産"),$.inArray(u[0],_)>-1?v=1:$.inArray(u[0],m)<0&&(v=0)):e.result1>=0||e.result2>=0?(a+=3,u=h(u,a,_,"事務処理"),p+=5,u=h(u,p,_,"組立")):$("#fs_input_payment_bankTransfer").prop("checked")&&(a+=1,u=h(u,a,_,"事務処理"));for(let e=0;e<v;e++)$.inArray(u[e],_)>-1?(u[e]="",v++):u[e]="";u=u.filter(Boolean);var y=[{pref:"北海道",leadTime:3},{pref:"青森県",leadTime:2},{pref:"岩手県",leadTime:2},{pref:"宮城県",leadTime:2},{pref:"秋田県",leadTime:2},{pref:"山形県",leadTime:2},{pref:"福島県",leadTime:2},{pref:"茨城県",leadTime:1},{pref:"栃木県",leadTime:1},{pref:"群馬県",leadTime:1},{pref:"埼玉県",leadTime:1},{pref:"千葉県",leadTime:1},{pref:"東京都",leadTime:1},{pref:"神奈川県",leadTime:1},{pref:"新潟県",leadTime:1},{pref:"富山県",leadTime:1},{pref:"石川県",leadTime:1},{pref:"福井県",leadTime:1},{pref:"山梨県",leadTime:1},{pref:"長野県",leadTime:1},{pref:"岐阜県",leadTime:1},{pref:"静岡県",leadTime:1},{pref:"愛知県",leadTime:1},{pref:"三重県",leadTime:1},{pref:"滋賀県",leadTime:1},{pref:"京都府",leadTime:1},{pref:"大阪府",leadTime:1},{pref:"兵庫県",leadTime:1},{pref:"奈良県",leadTime:1},{pref:"和歌山県",leadTime:1},{pref:"鳥取県",leadTime:2},{pref:"島根県",leadTime:2},{pref:"岡山県",leadTime:2},{pref:"広島県",leadTime:2},{pref:"山口県",leadTime:2},{pref:"徳島県",leadTime:2},{pref:"香川県",leadTime:2},{pref:"愛媛県",leadTime:2},{pref:"高知県",leadTime:2},{pref:"福岡県",leadTime:3},{pref:"佐賀県",leadTime:3},{pref:"長崎県",leadTime:3},{pref:"熊本県",leadTime:3},{pref:"大分県",leadTime:3},{pref:"宮崎県",leadTime:3},{pref:"鹿児島県",leadTime:3},{pref:"沖縄県",leadTime:7}],T=[{pref:"北海道",leadTime:6},{pref:"青森県",leadTime:4},{pref:"岩手県",leadTime:4},{pref:"宮城県",leadTime:3},{pref:"秋田県",leadTime:4},{pref:"山形県",leadTime:4},{pref:"福島県",leadTime:4},{pref:"茨城県",leadTime:3},{pref:"栃木県",leadTime:3},{pref:"群馬県",leadTime:3},{pref:"埼玉県",leadTime:2},{pref:"千葉県",leadTime:3},{pref:"東京都",leadTime:2},{pref:"神奈川県",leadTime:2},{pref:"新潟県",leadTime:4},{pref:"富山県",leadTime:4},{pref:"石川県",leadTime:5},{pref:"福井県",leadTime:5},{pref:"山梨県",leadTime:3},{pref:"長野県",leadTime:4},{pref:"岐阜県",leadTime:4},{pref:"静岡県",leadTime:2},{pref:"愛知県",leadTime:3},{pref:"三重県",leadTime:3},{pref:"滋賀県",leadTime:3},{pref:"京都府",leadTime:3},{pref:"大阪府",leadTime:3},{pref:"兵庫県",leadTime:3},{pref:"奈良県",leadTime:3},{pref:"和歌山県",leadTime:3},{pref:"鳥取県",leadTime:7},{pref:"島根県",leadTime:7},{pref:"岡山県",leadTime:6},{pref:"広島県",leadTime:6},{pref:"山口県",leadTime:5},{pref:"徳島県",leadTime:5},{pref:"香川県",leadTime:5},{pref:"愛媛県",leadTime:5},{pref:"高知県",leadTime:5},{pref:"福岡県",leadTime:4},{pref:"佐賀県",leadTime:5},{pref:"長崎県",leadTime:5},{pref:"熊本県",leadTime:5},{pref:"大分県",leadTime:5},{pref:"宮崎県",leadTime:5},{pref:"鹿児島県",leadTime:5},{pref:"沖縄県",leadTime:10}],g=$(".fs-c-checkout-destination__address__address").text().split(/\s+/),b=$("#fs_input_expectedArrival_time").val();if(e.result2>=0){var k=T,x=$(".fs-c-checkout-destination__address .fs-c-checkout-destination__address__zipCode").text().replace("-","");expectedArrivalTime_YHC(x)}else if(e.result1>=0){expectedArrivalTime_SGW(b);k=y}else{expectedArrivalTime_SGW(b);k=y}var A=k.find(e=>e.pref===g[0]),O=A.leadTime;for(i=0;i<O;i++)u[i]="";u=u.filter(Boolean);var C='<option value="none">指定なし</option>';for(i=0;u.length>i;i++){var M=u[i].split("-"),D=Number(M[0]),N=Number(M[1]),P=Number(M[2]),z=N-1,Z=["日","月","火","水","木","金","土"],w=new Date(D,z,P);C=C+'<option value="'+u[i]+'">'+M[0]+"/"+M[1]+"/"+M[2]+"("+Z[w.getDay()]+")</option>"}$("#fs_input_expectedArrival_date").html(C),$("#fs_input_expectedArrival_date").val(t)}r=1}else{if(r=0,l=$(".fs-c-checkout-destination__address__address").text(),""==n)n=l;else if(n!=l){if("指定なし"!=$(".fs-c-checkout-delivery__method__deliveryTime").next("dd").text()||"指定なし"!=$(".fs-c-checkout-delivery__method__deliveryDate").next("dd").text()){$("#fs_button_changeDeliveryMethod button.fs-c-button--change--small").trigger("click");const e=setInterval(function(){$("#__fs_modal_delivery button.fs-c-button--settings").length&&($("#__fs_modal_delivery").css("display","none"),$("#fs_input_expectedArrival_date").val("none"),$("#fs_input_expectedArrival_time").val("none"),$("#__fs_modal_delivery button.fs-c-button--settings").trigger("click"),clearInterval(e))},1);$(".fs-l-page").before('<div id="confirmOrderAlert"><div id="confirmOrderAlert-inner"><h4>お届け希望日時が「指定なし」に変更されました</h4><p>届け先住所が変更されたため、<span class="red">お届け希望日時を再度指定</span>してください。</p><div class="confirmOrderAlert-button"><span>OK</span></div></div></div>'),$(".confirmOrderAlert-button").on("click",function(){$("#confirmOrderAlert").remove(),noTimeSpecifiedZipCodes_result=void 0})}n=l}if(c=$(".fs-c-checkout-paymentMethodList input:checked").val(),""==s)s=c;else if("指定なし"!=$(".fs-c-checkout-delivery__method__deliveryTime").next("dd").text()||"指定なし"!=$(".fs-c-checkout-delivery__method__deliveryDate").next("dd").text()){if("BANK_TRANSFER"==c&&s!=c){$("#fs_button_changeDeliveryMethod button.fs-c-button--change--small").trigger("click");const e=setInterval(function(){$("#__fs_modal_delivery button.fs-c-button--settings").length&&($("#__fs_modal_delivery").css("display","none"),$("#fs_input_expectedArrival_date").val("none"),$("#fs_input_expectedArrival_time").val("none"),$("#__fs_modal_delivery button.fs-c-button--settings").trigger("click"),clearInterval(e))},1);$(".fs-l-page").before('<div id="confirmOrderAlert"><div id="confirmOrderAlert-inner"><h4>お届け希望日時が「指定なし」に変更されました</h4><p>お支払い方法が銀行振込に変更されたため、<span class="red">お届け希望日時を再度指定</span>してください。</p><div class="confirmOrderAlert-button"><span>OK</span></div></div></div>'),$(".confirmOrderAlert-button").on("click",function(){$("#confirmOrderAlert").remove(),noTimeSpecifiedZipCodes_result=void 0})}s=c}}}},r=0,d=0,l="",n="",c="",s="";setInterval(function(){t(e)},300)}}function expectedArrivalTime_SGW(e){var t;t='<option value="2">12:00～14:00</option><option value="3">14:00～16:00</option><option value="4">16:00～18:00</option><option value="5">18:00～21:00</option>',$("#fs_input_expectedArrival_time").replaceWith('<select name="time" id="fs_input_expectedArrival_time" class="fs-c-dropdown__menu"><option value="none" selected="selected">指定なし</option><option value="1">午前中</option>'+t+"</select>"),$('#fs_input_expectedArrival_time option[value="'+e+'"]').prop("selected",!0)}function expectedArrivalTime_YHC(e){let t=checkZipCodes(e);var i=$("#fs_input_expectedArrival_time").val();if(1==t.yhc_serviceType4_is){var r='<option value="6">12:00〜15:00</option><option value="7">15:00〜18:00</option><option value="8">18:00〜21:00</option>';$("#fs_input_expectedArrival_time").replaceWith('<select name="time" id="fs_input_expectedArrival_time" class="fs-c-dropdown__menu"><option value="none" selected="selected">指定なし</option><option value="1">午前中</option>'+r+"</select>"),$('#fs_input_expectedArrival_time option[value="'+i+'"]').prop("selected",!0)}else if(1==t.yhc_serviceType3_is){var d='<option value="9">12:00〜18:00</option><option value="8">18:00〜21:00</option>';$("#fs_input_expectedArrival_time").replaceWith('<select name="time" id="fs_input_expectedArrival_time" class="fs-c-dropdown__menu"><option value="none" selected="selected">指定なし</option><option value="1">午前中</option>'+d+"</select>"),$('#fs_input_expectedArrival_time option[value="'+i+'"]').prop("selected",!0)}else $("#fs_input_expectedArrival_time").replaceWith('<select name="time" id="fs_input_expectedArrival_time" class="fs-c-dropdown__menu" disabled><option value="none" selected="selected">指定なし</option></select>'),$(".fs-c-checkout-deliveryMethod__deliveryTime label").html('お届け時間帯 <span class="red">このお届け先は時間をご指定いただけません</span>'),$('#fs_input_expectedArrival_time option[value="none"]').prop("selected",!0)}function checkOption(){var e=[];if($(".fs-c-listedOptionPrice__option__value").each(function(){e.push($(this).text())}),0==e.length)return!1;var t=$.inArray("組立済+玄関渡し",e),i=$.inArray("組立済+搬入",e);return{result1:t,result2:i}}let checkZipCodeResult=void 0;$(window).on("load",function(){optionJudgment()});
>>>>>>> sub
