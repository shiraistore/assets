function get_instagram_post(){var a="https://h15yyu8zof.execute-api.ap-northeast-1.amazonaws.com/prod/get_instagram_post",t=[];$(".instagram_post_list").each(function(){t.push($(this).data("instagram_post_group_name"))}),console.log("送信するセクション一覧:",t);var e={group_names:t};$.ajax({type:"POST",url:a,async:!0,data:JSON.stringify(e),contentType:"application/json",dataType:"json",success:function(a){a&&a.items&&Array.isArray(a.items)?a.items.forEach(function(a){var t=a.group_name,e=a.data.posts,n=$('.instagram_post_list[data-instagram_post_group_name="'+t+'"]');if(n.length){var o=$("<ul></ul>");e.forEach(function(a){try{var t="string"==typeof a.data?JSON.parse(a.data):a.data,e=t.thumbnail_url,n=a.post_id,r="https://www.instagram.com/p/"+n;if(e&&n){var s=$("<li></li>"),i=$("<a></a>").attr("href",r).attr("target","_blank"),c=$("<img>").attr("src",e).attr("alt",n);i.append(c),s.append(i),o.append(s)}}catch(t){console.warn("JSON parse error or missing data:",a)}}),n.append(o)}}):console.warn("無効なレスポンス形式:",a)},error:function(a,t,e){console.error("エラー発生:",a.responseText)}})}function review_modal(){$(document).on("click",".open_modal",function(){const a=$(this).closest(".fs-c-reviewList__item").clone(),t=a.find(".fs-c-reviewBody").html();a.find(".excerpt").replaceWith(`<p class="excerpt">${t}</p>`),$("#review_modal .review_modal_content").html(a),$("#review_modal").fadeIn(300)}),$(document).on("click",".review_modal_overlay",function(){$("#review_modal").fadeOut(300)})}$(function(){get_instagram_post(),review_modal()});