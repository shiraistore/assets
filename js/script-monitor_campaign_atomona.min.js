function monitor_campaign_atomona_validate(){function e(){let e=[];$("select[name='field_5141573'], select[name='field_5141575'], select[name='field_5141586'], select[name='field_5141587']").each(function(){let i=$(this).val();""!==i&&"4"!==i&&e.push(i)}),$("select[name='field_5141573'], select[name='field_5141575'], select[name='field_5141586'], select[name='field_5141587']").each(function(){let i=$(this).val(),l=$(this);l.find("option").prop("disabled",!1),l.find("option").each(function(){e.includes($(this).val())&&$(this).val()!==i&&"4"!==$(this).val()&&$(this).prop("disabled",!0)})})}$("select[name='field_5141573'], select[name='field_5141575'], select[name='field_5141586'], select[name='field_5141587']").on("change",function(){e(),checkProductSelection(),$(this).removeClass("error")}),$("input[name='field_5134817_0'], input[name='field_5134817_1']").on("change",function(){checkCompanyPopularity()}),$("input[name='field_5134815']").on("change",function(){$("input[name='field_5134815']:checked").length>3&&(alert("最大3つまで選択可能です"),this.checked=!1)}),$("#monitor_campaign_atomona form").validate({rules:{field_5134805:{required:!0},field_5134791:{required:!0},field_5134806:{required:!0},field_5134807:{required:!0},field_5134808:{required:!0},field_5134815:{required:!0},field_5134816:{required:!0},field_5134790:{required:!0,email:!0},field_5141573:{required:!0,depends:checkProductSelection},field_5141575:{required:!0,depends:checkProductSelection},field_5141586:{required:!0,depends:checkProductSelection},field_5141587:{required:!0,depends:checkProductSelection},field_5134817_0:{required:!0},field_5134817_1:{required:!0}},messages:{field_5134805:{required:"選択してください"},field_5134791:{required:"選択してください"},field_5134806:{required:"選択してください"},field_5134807:{required:"選択してください"},field_5134808:{required:"選択してください"},field_5134815:{required:"選択してください（最大3つ）"},field_5134816:{required:"選択してください"},field_5134790:{required:"メールアドレスを入力してください",email:"正しいメールアドレスを入力してください"},field_5141573:{required:"選択してください"},field_5141575:{required:"選択してください"},field_5141586:{required:"選択してください"},field_5141587:{required:"選択してください"},field_5134817_0:{required:""},field_5134817_1:{required:""}},errorPlacement:function(e,i){i.is("select[name='field_5141573'], select[name='field_5141575'], select[name='field_5141586'], select[name='field_5141587']")||(i.is("input[name='field_5134817_0'], input[name='field_5134817_1']")&&$(".company-popularity-error").html('<label class="error">選択してください。</label>'),i.closest("td").append(e))},submitHandler:function(e){return!!checkProductSelection()&&(!!checkCompanyPopularity()&&void e.submit())}})}function checkProductSelection(){let e=!1;$("select[name='field_5141573'], select[name='field_5141575'], select[name='field_5141586'], select[name='field_5141587']").each(function(){""===$(this).val()&&(e=!0)});let i=$(".product-selection-error");return e?(i.html('<label class="error">すべての希望商品を選択してください</label>'),!1):(i.html(""),!0)}function checkCompanyPopularity(){let e=$("input[name='field_5134817_0']:checked").length>0,i=$("input[name='field_5134817_1']:checked").length>0,l=$(".company-popularity-error");return(e||i)&&e&&i?(l.html(""),!0):(l.html('<label class="error">選択してください。</label>'),!1)}$(function(){monitor_campaign_atomona_validate()});